{"version":3,"sources":["../../src/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import { Component, Input, Output, SimpleChange, EventEmitter } from '@angular/core';\n\n/**\n * Helpers for setting up sorting and paging, used by various components\n */\n\n/**\n * Sort direction (either 'ASC' or 'DESC')\n */\nexport class SortDirection {\n\tpublic static desc: string = 'DESC';\n\tpublic static asc: string = 'ASC';\n}\n\nexport class SortDisplayOption {\n\tconstructor(\n\t\tpublic label: string,\n\t\tpublic sortField: string,\n\t\tpublic sortDir: SortDirection\n\t) {}\n}\n\nexport class PagingOptions {\n\tconstructor(\n\t\tprivate pageNumber: number = 0,\n\t\tprivate pageSize: number = 50,\n\t\tprivate totalPages: number = 0,\n\t\tprivate totalSize: number = 0,\n\t\tpublic sortField?: string,\n\t\tpublic sortDir?: SortDirection\n\t) {}\n\n\treset() {\n\t\tthis.pageNumber = 0;\n\t\tthis.pageSize = 50;\n\t\tthis.totalPages = 0;\n\t\tthis.totalSize = 0;\n\t}\n\n\tset(pageNumber: number, pageSize: number, totalPages: number, totalSize: number) {\n\t\tthis.pageNumber = pageNumber;\n\t\tthis.pageSize = pageSize;\n\t\tthis.totalPages = totalPages;\n\t\tthis.totalSize = totalSize;\n\t}\n\n\tupdate(pageNumber: number, pageSize: number) {\n\t\tthis.pageNumber = pageNumber;\n\t\tthis.pageSize = pageSize;\n\t}\n\n\tsetPageNumber(pageNumber: number) {\n\t\tthis.pageNumber = pageNumber;\n\t}\n\n\tpublic toObj(): any {\n\t\treturn {\n\t\t\tpage: this.pageNumber,\n\t\t\tsize: this.pageSize,\n\t\t\tsort: this.sortField || null,\n\t\t\tdir: this.sortDir || null\n\t\t};\n\t}\n}\n\n@Component({\n\tselector: 'asy-pager',\n\ttemplateUrl: './component.html'\n})\nexport class Pager {\n\n\t@Input() pageNumber: number = 0;\n\t@Input() pageSize: number = 0;\n\t@Input() totalSize: number = 0;\n\t@Input() maxPageSize: number = 100;\n\t@Input() currentSize: number = 0;\n\t@Input() disableGoToEnd: boolean = false;\n\t@Input() showSortingControls: boolean = false;\n\t@Input() showCountWarning: boolean = false;\n\t@Input() countWarningMessage: string = '';\n\n\t@Output() onChange: EventEmitter<any> = new EventEmitter();\n\n\tprivate sortdir: SortDirection = SortDirection.desc;\n\n\tprivate totalPages: number = 0;\n\n\tprivate startFormatted: string = '';\n\n\tprivate endFormatted: string = '';\n\n\tprivate totalFormatted: string = 'unknown';\n\n\tconstructor() {}\n\n\tngOnInit() {\n\t\t// Constrain the max page size\n\t\tthis.maxPageSize = Math.min(100, Math.max(this.maxPageSize, 1));\n\n\t\tthis.calculateTotalPages();\n\t\tthis.format();\n\t}\n\n\tngOnChanges(changes: {[propKey: string]: SimpleChange}) {\n\t\tif (changes.hasOwnProperty('pageSize') || changes.hasOwnProperty('totalSize')) {\n\t\t\tthis.calculateTotalPages();\n\t\t\tthis.format();\n\t\t}\n\t}\n\n\tprivate format() {\n\t\tthis.startFormatted = ((this.pageSize * this.pageNumber) + 1).toLocaleString();\n\n\t\tlet end = (this.pageSize * this.pageNumber) + this.maxPageSize;\n\t\tend = (end > this.totalSize) ? this.totalSize : end;\n\t\tthis.endFormatted = end.toLocaleString();\n\n\t\tif (this.totalSize !== 0) {\n\t\t\tthis.totalFormatted = this.totalSize.toLocaleString();\n\t\t}\n\t}\n\n\tprivate calculateTotalPages() {\n\t\t// Constrain the page size to the max\n\t\tthis.pageSize = Math.min(this.maxPageSize, Math.max(this.pageSize, 1));\n\n\t\t// Calculate number of pages based on page size and number of results\n\t\tthis.totalPages = Math.ceil(this.totalSize / this.pageSize);\n\t}\n\n\tprivate goToPage(pageNumber: number) {\n\t\t// Go to specific page number\n\t\tthis.pageNumber = Math.min(this.totalPages - 1, Math.max(pageNumber, 0));\n\t\tthis.format();\n\n\t\t// Emit change event\n\t\tthis.onChange.emit({pageNumber: this.pageNumber, pageSize: this.pageSize, sortdir: this.sortdir});\n\t}\n\n\tprivate setPageSize(pageSize: number) {\n\t\t// Page size can never exceed the max\n\t\tthis.pageSize = Math.min(this.maxPageSize, Math.max(pageSize, 0));\n\n\t\t// Since the size changed, go back to the first page\n\t\tthis.pageNumber = 0;\n\n\t\t// Emit change event\n\t\tthis.onChange.emit({pageNumber: this.pageNumber, pageSize: this.pageSize, sortdir: this.sortdir});\n\t}\n\n\tprivate sort(direction: SortDirection) {\n\t\tthis.sortdir = direction;\n\n\t\t// Emit change event\n\t\tthis.onChange.emit({pageNumber: this.pageNumber, pageSize: this.pageSize, sortdir: this.sortdir});\n\t}\n}\n"]}